onInit: function () {
  this._bPKToggleOn = false;

  const oPKModel = new sap.ui.model.json.JSONModel({
    enabled: false
  });

  this.getView().setModel(oPKModel, "pkModel");
},


onPrimaryKeyToggle: function (oEvent) {
  this._bPKToggleOn = oEvent.getParameter("state");

  // ðŸ”¥ THIS LINE FIXES EVERYTHING
  this.getView().getModel("pkModel").setProperty("/enabled", this._bPKToggleOn);

  const aItems = this.byId("columnsTable").getItems();

  if (!this._bPKToggleOn) {
    aItems.forEach(item => {
      item.getCells()[0].setSelected(false);
      item.removeStyleClass("pkSelectedRow");
    });
  }
},
